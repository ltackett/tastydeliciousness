@import compass
@import blueprint
@import base.sass

+global-reset

+blueprint-typography("#content")

// page defaults
// --------------------------------------------------------

$accent: #880006
$dusty-accent: #99201E
$main-content: #666

$darkest: #0c0c0c
$dark: #444
$midtone: #888
$darkness-modifier: 10

body
  font-family: "Helvetica Neue", arial, sans-serif

#content span.amp
  font-family: Baskerville, 'Goudy Old Style', Palatino, 'Book Antiqua', serif
  font-style: italic
  font-weight: normal

body
  background: $dark url(../images/fabric.png)
  
a.base
  color: $dusty-accent
  text-decoration: none
  &:hover
    text-decoration: underline

.block-base
  margin: 2em
  border-top: 2px solid $dark

.left-handle
  width: 540px
  border-left: 25px solid $dusty-accent
  //background: $dusty-accent url(../images/diagonal_stripes_dark.png)
  //padding-left: 25px

#content
  img
    @extend .left-handle
    width: 548px
    padding-left: 2px
  
  blockquote, pre
    @extend .left-handle
    margin-left: 0
    padding-left: 10px

#wrapper
  +container
  +box-shadow(0, 0, 10px, rgba(0,0,0,1))
  +border-bottom-radius(0.5em)
  border: 1px solid $dark
  background: $darkest
  
  #content
    overflow: hidden
    color: $main-content
    font-size: 90%
    
    h3, h4, h5, h6
      +text-shadow(-2px, 2px, 20px, rgba(100,0,0,0.5))
      color: $dusty-accent
      display: inline-block
    
    h3
      @extend .left-handle
      width: auto
      padding-left: 10px
    
    a
      @extend a.base
  
// Link box
// --------------------------------------------------------

$animation-speed = "0.3s"
$animation-ease = "ease-in-out"

.link-box
  +display-box
  height: 100%
  width: 100%
  margin-top: 2.8em

  a
    +transition(all, $animation-speed, $animation-ease)
    +border-top-left-radius(1em)
    +border-bottom-right-radius(1em)
    +box-flex(1)
    display: block
    color: $midtone
    padding: 0.75em
    vertical-align: 0
    margin-right: 0.5em
    text-decoration: none
    background-image: url(../images/fabric.png)
    background-color: $darkest + $darkness-modifier
    white-space: nowrap
    &[rel="external"]:after
      content: " Â»"
    &:hover
      color: #fff
      background-color: $accent
      .csstransitions &
        padding-right: 85px
    &:last-child, &:last-child:hover
      .csstransitions &
        margin-right: 0

// Header
// --------------------------------------------------------

#header
  +clearfix
  background: url(../images/grunge_corner.png) 5px -70px no-repeat, url(../images/grunge_corner.png) 230px -70px no-repeat

#logo
  +border-bottom-radius(0.4em)
  padding-top: 1em
  margin: 0 2em
  background: url(../images/fabric.png) $accent
  #inner-logo
    +transform-origin(20%,50%)
    +apply-transform(scale(0.5) rotate(-5deg))
    width: 28em
    .csstransforms &
      margin:
        left: -2em

  h1
    +text-shadow(-0.04em, 0.04em, 0.04em, rgba(255,100,100,0.8))
    letter-spacing: -0.07em
    margin-bottom: 0
    font:
      family: georgia, times, "times new roman", serif
      size: 4em
      weight: bold
      style: italic
    a
      color: #fff
      text-decoration: none

  p
    color: #000
    margin:
      left: 34em
    font:
      size: 5px
      style: italic
      weight: bold
  
    &:after
      content: " Foo Bar Baz. Foo Bar Baz. Foo Bar Baz. Foo Bar Baz. Foo Bar Baz. Foo Bar Baz. Foo B-- o hai. =)"

// Columns
// --------------------------------------------------------

.primary-column
  +column(16, true)
  +float-right

.secondary-column
  +column(8)

.primary-column,
.secondary-column
  .block
    @extend .block-base
  
    #header &
      margin:
        bottom: 0
        top: 0
      border: none

// Content
// --------------------------------------------------------

#content

  #messagy-bit
    +box-shadow(0,0, 20px, #000)
    position: relative
    background: url(../images/masthead.png) 0 0 no-repeat
    margin-top: 1.5em
    min-height: 315px
    
    h2
      +text-shadow(0, 0, 2px, rgba(255,255,255,0.6))
      position: absolute
      top: 3em
      left: 0.5em
      margin: 0
      line-height: 1em
      letter-spacing: -0.05em
      font:
        size: 4em
        weight: bold
      
    span.amp
      +text-shadow(-2px, 2px, 2px, rgba(50,0,0,0.8))
      color: $accent


  .columns
    +display-box
  
  .primary
    width: ($blueprint_grid_outer_width * 16 - $blueprint_grid_margin)

  .secondary
    width: ($blueprint_grid_outer_width * 8 - $blueprint_grid_margin)
    margin-right: 10px
    
  .primary,
  .secondary
    background: $darkest + $darkness-modifier
    padding-top: 0.2em
    padding-bottom: 0.5em
    > .block
      @extend .block-base
      padding-top: 0.5em

// Footer
// --------------------------------------------------------

#footer
  +container
  margin: 2em auto
  color: $midtone
  font-size: 80%
  line-height: 2em
  a
    @extend a.base
    color: $dusty-accent + 40